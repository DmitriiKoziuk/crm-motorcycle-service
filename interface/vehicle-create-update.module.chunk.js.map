{"version":3,"sources":["/Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/vehicle/create-update/vehicle-create-update.component.css","/Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/vehicle/create-update/vehicle-create-update.component.html","/Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/vehicle/create-update/vehicle-create-update.component.ts","/Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/vehicle/create-update/vehicle-create-update.module.ts"],"names":[],"mappings":"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","file":"vehicle-create-update.module.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"mat-form-field {\\n  width: 100%;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/vehicle/create-update/vehicle-create-update.component.css\n// module id = ../../../../../src/app/pages/vehicle/create-update/vehicle-create-update.component.css\n// module chunks = vehicle-create-update.module","module.exports = \"<div class=\\\"container-fluid\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col\\\">\\n      <form\\n          [formGroup]=\\\"vehicleRecord.attributes\\\"\\n          class=\\\"mat-elevation-z2 background-white\\\"\\n          [ngClass]=\\\"{\\n            'valid': vehicleRecord.attributes.valid,\\n            'not-valid': !vehicleRecord.attributes.valid\\n          }\\\"\\n      >\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-md-3\\\">\\n            <mat-form-field class=\\\"example-full-width\\\">\\n              <input type=\\\"text\\\"\\n                     placeholder=\\\"Vehicle type\\\"\\n                     matInput\\n                     [formControl]=\\\"vehicleRecord.attributes.get('type.name')\\\"\\n                     [matAutocomplete]=\\\"vehicleTypeAuto\\\"\\n              >\\n              <mat-autocomplete #vehicleTypeAuto=\\\"matAutocomplete\\\">\\n                <mat-option *ngFor=\\\"let vehicleType of vehicleTypeList\\\" [value]=\\\"vehicleType.name\\\">\\n                  {{ vehicleType.name }}\\n                </mat-option>\\n              </mat-autocomplete>\\n            </mat-form-field>\\n          </div>\\n\\n          <div class=\\\"col-md-3\\\">\\n            <mat-form-field class=\\\"example-full-width\\\">\\n              <input type=\\\"text\\\"\\n                     placeholder=\\\"Vehicle brand\\\"\\n                     matInput\\n                     [formControl]=\\\"vehicleRecord.attributes.get('brand.name')\\\"\\n                     [matAutocomplete]=\\\"vehicleBrandAuto\\\"\\n              >\\n              <mat-autocomplete #vehicleBrandAuto=\\\"matAutocomplete\\\">\\n                <mat-option *ngFor=\\\"let vehicleBrand of vehicleBrandList\\\" [value]=\\\"vehicleBrand.name\\\">\\n                  {{ vehicleBrand.name }}\\n                </mat-option>\\n              </mat-autocomplete>\\n            </mat-form-field>\\n          </div>\\n\\n          <div class=\\\"col-md-6\\\">\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"Model name\\\" formControlName=\\\"model_name\\\">\\n              <mat-error *ngIf=\\\"vehicleRecord.isAttributeNotValid('model_name')\\\">\\n                {{vehicleRecord.getAttributeError('model_name')}}\\n              </mat-error>\\n              <mat-hint align=\\\"end\\\">{{vehicleRecord.attributes.get('model_name').value.length}} / {{vehicleRecord.maxLength}}</mat-hint>\\n            </mat-form-field>\\n          </div>\\n        </div>\\n      </form>\\n\\n      <button\\n          mat-raised-button\\n          color=\\\"primary\\\"\\n          (click)=\\\"save()\\\"\\n          style=\\\"margin-top: 20px;\\\"\\n          [disabled]=\\\"!isCanSave()\\\"\\n      >Save</button>\\n    </div>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/vehicle/create-update/vehicle-create-update.component.html\n// module id = ../../../../../src/app/pages/vehicle/create-update/vehicle-create-update.component.html\n// module chunks = vehicle-create-update.module","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\n\nimport { PageTitleService } from '../../../shared/services/page-title.service';\nimport { VehicleRecord } from '../../../shared/records/vehicle.record';\nimport { VehicleTypeRecord } from '../../../shared/records/vehicle-type.record';\nimport { VehicleTypeGetResponse } from '../../../shared/reponses/get/vehicle-type.get.response';\nimport { VehicleBrandRecord } from '../../../shared/records/vehicle-brand.record';\nimport { VehicleBrandGetResponse } from '../../../shared/reponses/get/vehicle-brand.get.response';\n\n@Component({\n  selector:    'app-page-vehicle-create-update',\n  templateUrl: './vehicle-create-update.component.html',\n  styleUrls:   [\n    './vehicle-create-update.component.css',\n  ],\n  providers:   [\n    VehicleRecord,\n    VehicleTypeRecord,\n    VehicleBrandRecord,\n  ],\n})\nexport class VehicleCreateUpdateComponent implements OnInit {\n  protected queryParams:      Params;\n  public    vehicleTypeList:  {id: number; name: string}[]  = [];\n  public    vehicleBrandList: {id: number; name: string}[]  = [];\n\n  constructor(\n    private pageTitle:          PageTitleService,\n    private activeRoute:        ActivatedRoute,\n    private router:             Router,\n    private vehicleTypeRecord:  VehicleTypeRecord,\n    private vehicleBrandRecord: VehicleBrandRecord,\n    public  vehicleRecord:      VehicleRecord,\n  ) {}\n\n  ngOnInit() {\n    this.vehicleTypeRecord.findWhere({}).then((response: VehicleTypeGetResponse) => {\n      this.vehicleTypeList = response.results;\n    });\n\n    this.vehicleBrandRecord.findWhere({}).then((response: VehicleBrandGetResponse) => {\n      this.vehicleBrandList = response.results;\n    });\n\n    this.vehicleRecord.attributes.get('brand.name').valueChanges.subscribe(name => {\n      this.vehicleRecord.attributes.get('brand.id').setValue('');\n      this.vehicleBrandRecord.findWhere({name})\n        .then((response: VehicleBrandGetResponse) => {\n          this.vehicleBrandList = response.results;\n        })\n        .then(() => {\n          this.vehicleBrandList.forEach((brand) => {\n            if (brand.name === name) {\n              this.vehicleRecord.attributes.get('brand.id').setValue(brand.id);\n            }\n          });\n      });\n    });\n\n    this.vehicleRecord.attributes.get('type.name').valueChanges.subscribe(name => {\n      this.vehicleRecord.attributes.get('type.id').setValue('');\n      this.vehicleTypeList.forEach((type) => {\n        if (type.name === name) {\n          this.vehicleRecord.attributes.get('type.id').setValue(type.id);\n        }\n      });\n    });\n\n    this.activeRoute.params.subscribe((params: Params) => {\n      this.queryParams = params;\n      if (this.queryParams.hasOwnProperty('id')) {\n        this.vehicleRecord.loadIn(params['id']).then(() => {\n          this.pageTitle.set(`Update vehicle \"${this.vehicleRecord.attributes.get('model_name').value}\"`);\n        });\n      } else {\n        this.pageTitle.set('Create vehicle');\n      }\n    });\n  }\n\n  isCanSave() {\n    if (this.vehicleRecord.attributes.valid) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  save() {\n    this.vehicleRecord.save().then(response => {\n      if (\n        ! this.queryParams.hasOwnProperty('id') &&\n        response.hasOwnProperty('id')\n      ) {\n        this.router.navigate([this.vehicleRecord.getUrl() + '/' + response['id']]);\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/vehicle/create-update/vehicle-create-update.component.ts","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\nimport { MaterialModule } from '../../../shared/modules/material.module';\nimport { VehicleCreateUpdateComponent } from './vehicle-create-update.component';\n\nconst ROUTES: Routes = [\n  {path: '', component: VehicleCreateUpdateComponent},\n];\n\n@NgModule({\n  declarations: [\n    VehicleCreateUpdateComponent,\n  ],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(ROUTES),\n    MaterialModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  exports: [\n    RouterModule,\n  ],\n})\nexport class VehicleCreateUpdateModule {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/vehicle/create-update/vehicle-create-update.module.ts"],"sourceRoot":"webpack:///"}