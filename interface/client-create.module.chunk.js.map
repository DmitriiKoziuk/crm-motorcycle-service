{"version":3,"sources":["/Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/client/create/client-create.component.css","/Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/client/create/client-create.component.html","/Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/client/create/client-create.component.ts","/Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/client/create/client-create.module.ts"],"names":[],"mappings":"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","file":"client-create.module.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"mat-form-field {\\n  width: 100%;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/client/create/client-create.component.css\n// module id = ../../../../../src/app/pages/client/create/client-create.component.css\n// module chunks = client-create.module","module.exports = \"<div class=\\\"container-fluid\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col\\\">\\n      <form\\n          [formGroup]=\\\"clientRecord.attributes\\\"\\n          class=\\\"mat-elevation-z2 background-white\\\"\\n          [ngClass]=\\\"{\\n            'valid': clientRecord.attributes.valid,\\n            'not-valid': !clientRecord.attributes.valid\\n          }\\\"\\n      >\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-md-4\\\">\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"First name\\\" formControlName=\\\"first_name\\\">\\n              <mat-error *ngIf=\\\"clientRecord.isAttributeNotValid('first_name')\\\">\\n                {{clientRecord.getAttributeError('first_name')}}\\n              </mat-error>\\n              <mat-hint align=\\\"end\\\">{{clientRecord.attributes.get('first_name').value.length}} / {{clientRecord.maxLength}}</mat-hint>\\n            </mat-form-field>\\n          </div>\\n          <div class=\\\"col-md-4\\\">\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"Family name\\\" formControlName=\\\"family_name\\\">\\n              <mat-error *ngIf=\\\"clientRecord.isAttributeNotValid('family_name')\\\">\\n                {{clientRecord.getAttributeError('family_name')}}\\n              </mat-error>\\n              <mat-hint align=\\\"end\\\">{{clientRecord.attributes.get('family_name').value.length}} / {{clientRecord.maxLength}}</mat-hint>\\n            </mat-form-field>\\n          </div>\\n          <div class=\\\"col-md-4\\\">\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"Middle name\\\" formControlName=\\\"middle_name\\\">\\n              <mat-error *ngIf=\\\"clientRecord.isAttributeNotValid('middle_name')\\\">\\n                {{clientRecord.getAttributeError('middle_name')}}\\n              </mat-error>\\n              <mat-hint align=\\\"end\\\">{{clientRecord.attributes.get('middle_name').value.length}} / {{clientRecord.maxLength}}</mat-hint>\\n            </mat-form-field>\\n          </div>\\n        </div>\\n      </form>\\n\\n      <form\\n          [formGroup]=\\\"telephoneForm\\\"\\n          class=\\\"mat-elevation-z2 background-white\\\"\\n          style=\\\"margin-top: 20px;\\\"\\n          [ngClass]=\\\"{\\n            'valid': clientRecord.attributes.get('telephones').value.length,\\n            'not-valid': !clientRecord.attributes.get('telephones').value.length\\n          }\\\"\\n      >\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-md-4\\\">\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"Telephone number\\\" formControlName=\\\"number\\\" [(ngModel)]=\\\"telephoneForm.get('number').value\\\">\\n              <mat-hint align=\\\"end\\\">{{telephoneForm.get('number').value.length}} / {{13}}</mat-hint>\\n            </mat-form-field>\\n          </div>\\n          <div class=\\\"col-md-4\\\">\\n            <mat-form-field>\\n              <input matInput placeholder=\\\"Note\\\" formControlName=\\\"note\\\">\\n              <mat-hint align=\\\"end\\\">{{telephoneForm.get('note').value.length}} / {{150}}</mat-hint>\\n            </mat-form-field>\\n          </div>\\n          <div class=\\\"col-md-4\\\">\\n            <button type=\\\"button\\\" [disabled]=\\\"! telephoneForm.valid\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"addTelephone()\\\">+</button>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col\\\">\\n            <div class=\\\"row\\\" *ngFor=\\\"let telephone of clientRecord.attributes.get('telephones').controls; let i = index\\\">\\n              <div class=\\\"col-md-4\\\">\\n                <mat-form-field>\\n                  <input matInput placeholder=\\\"Telephone number\\\" [formControl]=\\\"telephone.controls['number']\\\">\\n                </mat-form-field>\\n              </div>\\n              <div class=\\\"col-md-4\\\">\\n                <mat-form-field>\\n                  <input matInput placeholder=\\\"Note\\\" [formControl]=\\\"telephone.controls['note']\\\">\\n                </mat-form-field>\\n              </div>\\n              <div class=\\\"col-md-4\\\">\\n                <button mat-raised-button color=\\\"warn\\\" (click)=\\\"removeTelephone(i)\\\">-</button>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </form>\\n\\n      <button\\n          mat-raised-button\\n          color=\\\"primary\\\"\\n          (click)=\\\"save()\\\"\\n          style=\\\"margin-top: 20px;\\\"\\n          [disabled]=\\\"!isCanSave()\\\"\\n      >Save</button>\\n    </div>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/client/create/client-create.component.html\n// module id = ../../../../../src/app/pages/client/create/client-create.component.html\n// module chunks = client-create.module","import { Component, OnInit } from '@angular/core';\nimport { FormArray, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Params, Router} from '@angular/router';\n\nimport { PageTitleService } from '../../../shared/services/page-title.service';\nimport { ClientRecord } from '../../../shared/records/client.record';\n\n@Component({\n  selector: 'app-page-client-create',\n  templateUrl: './client-create.component.html',\n  styleUrls: ['./client-create.component.css'],\n  providers: [\n    ClientRecord,\n  ],\n})\nexport class ClientCreateComponent implements OnInit {\n  protected queryParams;\n\n  public telephoneForm = new FormGroup({\n    number: new FormControl('+38', [\n      Validators.required,\n      Validators.minLength(13),\n      Validators.maxLength(13),\n    ]),\n    note:   new FormControl('', [\n      Validators.maxLength(150),\n    ]),\n  });\n\n  constructor(\n    private pageTitle:    PageTitleService,\n    private activeRoute:  ActivatedRoute,\n    private router:       Router,\n    public  clientRecord: ClientRecord,\n  ) {}\n\n  ngOnInit() {\n    this.activeRoute.params.subscribe((params: Params) => {\n      this.queryParams = params;\n      if (this.queryParams.hasOwnProperty('id')) {\n        this.clientRecord.loadIn(params['id']).then(response => {\n          this.pageTitle.set(`Update client - ${this.clientRecord.attributes.get('first_name').value}`);\n        });\n      } else {\n        this.pageTitle.set('Create client');\n      }\n    });\n  }\n\n  public addTelephone(): void {\n    if (this.telephoneForm.valid) {\n      (<FormArray>this.clientRecord.attributes.get('telephones')).push(\n        new FormGroup({\n          number: new FormControl(this.telephoneForm.get('number').value),\n          note:   new FormControl(this.telephoneForm.get('note').value),\n        })\n      );\n      this.telephoneForm.reset({\n        number: '+38',\n        note:   '',\n      });\n    }\n  }\n\n  public removeTelephone(index: number): void {\n    (<FormArray>this.clientRecord.attributes.get('telephones')).removeAt(index);\n  }\n\n  public isCanSave() {\n    if (this.clientRecord.attributes.valid && this.clientRecord.attributes.get('telephones').value.length) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  public save() {\n    this.clientRecord.save().then(response => {\n      if (\n        ! this.queryParams.hasOwnProperty('id') &&\n          response.hasOwnProperty('id')\n      ) {\n        this.router.navigate([this.clientRecord.getUrl() + '/' + response['id']]);\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/client/create/client-create.component.ts","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\n\nimport { ClientCreateComponent } from './client-create.component';\nimport { MaterialModule } from '../../../shared/modules/material.module';\nimport { PipeModule } from '../../../shared/modules/pipe.module';\n\nconst ROUTES: Routes = [\n  {path: '', component: ClientCreateComponent},\n];\n\n@NgModule({\n  declarations: [\n    ClientCreateComponent,\n  ],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(ROUTES),\n    MaterialModule,\n    FormsModule,\n    ReactiveFormsModule,\n    PipeModule,\n  ],\n  exports: [\n    RouterModule,\n  ],\n})\nexport class ClientCreateModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/client/create/client-create.module.ts"],"sourceRoot":"webpack:///"}