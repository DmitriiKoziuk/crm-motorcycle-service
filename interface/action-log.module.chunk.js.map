{"version":3,"sources":["/Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/action-log/action-log.component.css","/Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/action-log/action-log.component.html","/Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/action-log/action-log.component.ts","/Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/action-log/action-log.module.ts","/Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/shared/records/action-log.record.ts"],"names":[],"mappings":"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","file":"action-log.module.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"mat-cell {\\n  padding: 5px;\\n}\\n.data {\\n  padding: 15px;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/action-log/action-log.component.css\n// module id = ../../../../../src/app/pages/action-log/action-log.component.css\n// module chunks = action-log.module","module.exports = \"<div class=\\\"container-fluid\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-md-12\\\">\\n      <div class=\\\"mat-elevation-z2 background-white\\\">\\n        <mat-table #table [dataSource]=\\\"dataSource\\\">\\n          <ng-container matColumnDef=\\\"id\\\">\\n            <mat-header-cell *matHeaderCellDef> ID </mat-header-cell>\\n            <mat-cell *matCellDef=\\\"let element\\\"> {{element.id}} </mat-cell>\\n          </ng-container>\\n\\n          <ng-container matColumnDef=\\\"user\\\">\\n            <mat-header-cell *matHeaderCellDef> User </mat-header-cell>\\n            <mat-cell *matCellDef=\\\"let element\\\">\\n              {{element.user.first_name}}\\n              {{element.user.family_name}}\\n              {{element.user.middle_name}}\\n            </mat-cell>\\n          </ng-container>\\n\\n          <ng-container matColumnDef=\\\"entity_name\\\">\\n            <mat-header-cell *matHeaderCellDef> Entity name </mat-header-cell>\\n            <mat-cell *matCellDef=\\\"let element\\\">\\n              {{element.entity_name}}\\n            </mat-cell>\\n          </ng-container>\\n\\n          <ng-container matColumnDef=\\\"entity_id\\\">\\n            <mat-header-cell *matHeaderCellDef> Entity id </mat-header-cell>\\n            <mat-cell *matCellDef=\\\"let element\\\">\\n              {{element.entity_id}}\\n            </mat-cell>\\n          </ng-container>\\n\\n          <ng-container matColumnDef=\\\"action_type\\\">\\n            <mat-header-cell *matHeaderCellDef> Action type </mat-header-cell>\\n            <mat-cell *matCellDef=\\\"let element\\\">\\n              {{element.action_type}}\\n            </mat-cell>\\n          </ng-container>\\n\\n          <ng-container matColumnDef=\\\"old_data\\\">\\n            <mat-header-cell *matHeaderCellDef> Old data </mat-header-cell>\\n            <mat-cell *matCellDef=\\\"let element\\\" class=\\\"data\\\">\\n              {{element.old_data | json}}\\n            </mat-cell>\\n          </ng-container>\\n\\n          <ng-container matColumnDef=\\\"new_data\\\">\\n            <mat-header-cell *matHeaderCellDef> New data </mat-header-cell>\\n            <mat-cell *matCellDef=\\\"let element\\\" class=\\\"data\\\">\\n              {{element.new_data | json}}\\n            </mat-cell>\\n          </ng-container>\\n\\n          <ng-container matColumnDef=\\\"apply_time\\\">\\n            <mat-header-cell *matHeaderCellDef> Apply time </mat-header-cell>\\n            <mat-cell *matCellDef=\\\"let element\\\">\\n              {{element.apply_time}}\\n            </mat-cell>\\n          </ng-container>\\n\\n          <mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></mat-header-row>\\n          <mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></mat-row>\\n        </mat-table>\\n        <mat-paginator [length]=\\\"length\\\"\\n                       [pageSize]=\\\"pageSize\\\"\\n                       [pageIndex]=\\\"pageIndex\\\"\\n                       [pageSizeOptions]=\\\"pageSizeOptions\\\"\\n                       (page)=\\\"paginationEvent($event)\\\">\\n        </mat-paginator>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/action-log/action-log.component.html\n// module id = ../../../../../src/app/pages/action-log/action-log.component.html\n// module chunks = action-log.module","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, Params } from '@angular/router';\nimport { MatTableDataSource, PageEvent } from '@angular/material';\n\nimport { PageTitleService } from '../../shared/services/page-title.service';\nimport { ActionLogRecord } from '../../shared/records/action-log.record';\nimport { ActionLogGetResponse } from '../../shared/reponses/action-log-get.response';\n\n@Component({\n  selector: 'app-pages-action-log',\n  templateUrl: './action-log.component.html',\n  styleUrls: ['./action-log.component.css'],\n  providers: [ActionLogRecord],\n})\nexport class ActionLogComponent implements OnInit {\n  displayedColumns = [\n    'id', 'user', 'entity_name', 'entity_id',\n    'action_type', 'old_data', 'new_data', 'apply_time'\n  ];\n  length           = 100;\n  pageSize         = 10;\n  pageIndex        = 0;\n  pageSizeOptions  = [20, 50, 100];\n  queryParams: Params;\n  dataSource;\n\n  constructor(\n    private activeRoute: ActivatedRoute,\n    private router:      Router,\n    private pageTitle:   PageTitleService,\n    public  actionLog:   ActionLogRecord,\n  ) {}\n\n  ngOnInit() {\n    this.pageTitle.set('Action log');\n\n    this.dataSource      = new MatTableDataSource();\n    this.dataSource.data = [];\n\n    this.activeRoute.queryParams.subscribe((params: Params) => {\n      this.queryParams = params;\n      this.actionLog.findWhere(params).then((response: ActionLogGetResponse) => {\n        this.length          = response.count;\n        this.pageSize        = response.page_size;\n        this.pageIndex       = response.page_index;\n        this.dataSource.data = response.results;\n      });\n    });\n  }\n\n  paginationEvent(event: PageEvent) {\n    const queryParams = Object.assign({}, this.queryParams, {\n      page_size:  event.pageSize,\n      page_index: event.pageIndex,\n    });\n\n    this.router.navigate([this.actionLog.getUrl()], {queryParams: queryParams});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/action-log/action-log.component.ts","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {CommonModule} from '@angular/common';\nimport {MaterialModule} from '../../shared/modules/material.module';\n\nimport {ActionLogComponent} from './action-log.component';\n\nconst ROUTES: Routes = [\n  {path: '', component: ActionLogComponent}\n];\n\n@NgModule({\n  declarations: [\n    ActionLogComponent,\n  ],\n  imports: [\n    RouterModule.forChild(ROUTES),\n    CommonModule,\n    MaterialModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  exports: [\n    RouterModule,\n  ],\n})\nexport class ActionLogModule {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/pages/action-log/action-log.module.ts","import {ActiveRecord} from './active.record';\n\nexport class ActionLogRecord extends ActiveRecord {\n  getUrl() {\n    return '/action-log';\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/Dmitry/Documents/mamp/my-projects/crm-motorcycle-service.dev/angular-source/src/app/shared/records/action-log.record.ts"],"sourceRoot":"webpack:///"}